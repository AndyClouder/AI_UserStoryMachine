# 天珑T9智能座舱产品需求文档（PRD）

## 文档信息

| 项目 | 内容 |
|------|------|
| 产品名称 | 天珑T9智能座舱系统 |
| 项目代号 | Tianlong T9 |
| 文档版本 | V1.0 |
| 创建日期 | 2025-01-10 |
| 适用车型 | 广汽远程重卡系列 |
| 目标客户 | 广汽日野 |

---

## 1. 产品概述

### 1.1 产品定位

天珑T9是为广汽远程重型卡车开发的新一代智能座舱系统，融合了智能驾驶辅助、智能互联、AI语音助手等先进技术，致力于为商用车驾驶员提供安全、高效、智能的驾驶体验。

### 1.2 产品架构

本产品采用双屏协同架构：
- **中控屏**：14.6英寸触控显示屏（BOE）
- **仪表屏**：10.25英寸液晶仪表（BOE）
- **核心处理**：主控SOC + MCU双芯片架构
- **网络通信**：CAN/CAN-FD + 预留以太网

### 1.3 核心价值

- **安全保障**：AEBS、LDWS等主动安全系统
- **智能助手**：AI驾驶行为分析、故障预测、能耗优化
- **互联生态**：TSP平台对接、货运平台、充电服务
- **运营增效**：车队管理、运单调度、智能补能规划

---

## 2. 目标用户与使用场景

### 2.1 目标用户

#### 主要用户
- **职业司机**：长途货运、城际物流驾驶员
- **车队管理者**：物流企业车队调度与管理人员
- **车主**：个体运输业主

#### 次要用户
- **维修技师**：售后维护人员
- **平台运营方**：货运平台、充电服务平台

### 2.2 典型使用场景

1. **日常驾驶**：导航、音乐、通话、车辆信息监控
2. **货运作业**：接单、路线规划、任务上报、冷藏监控
3. **安全预警**：碰撞预警、车道偏离、盲区检测、疲劳提醒
4. **能源管理**：SOC监控、充电规划、续航预测
5. **车队运营**：远程监控、调度指令、驾驶行为分析

---

## 3. 功能需求

### 3.1 Launcher主界面系统

#### 3.1.1 开机启动
- **开机图片/动画**：支持客户定制化品牌logo和动画，可通过OTA更新
- **语音隐私协议**：首次启动或恢复出厂设置时，需用户同意隐私协议并授权
- **启动时间**：门开预启动功能，提前开机缩短启动时间

#### 3.1.2 主界面布局
- **状态栏**：
  - 左上角：车外温度、PM2.5
  - 右上角：时间、网络状态、WiFi、蓝牙、USB、静音状态
- **卡片小组件**：导航、应用、任务看板等快捷入口
- **应用中心**：展示所有已安装应用

#### 3.1.3 系统行为
- **后台播放**：切换主界面时，收音机、音乐、蓝牙音乐转为后台播放
- **休眠机制**：
  - ACC OFF 3分钟内：关闭屏幕和功放，断开蓝牙/WiFi
  - ACC ON恢复之前状态
  - 3分钟后MPU关机，MCU休眠

### 3.2 影音娱乐系统

#### 3.2.1 收音机
- **频段支持**：FM/AM双频段
- **功能**：搜台、手动调频、预设电台、试听
- **UI适配**：背景图片随壁纸主题变化

#### 3.2.2 音乐播放器
- **音源支持**：USB音乐、蓝牙音乐
- **播放模式**：顺序播放、单曲循环、随机播放
- **音乐管理**：收藏、播放列表、专辑/艺术家分类
- **支持格式**：MP3、WMA

#### 3.2.3 视频播放器
- **视频源**：USB设备
- **支持格式**：MP4、AVI、MPG、MPEG、3GP、WMV
- **行车限制**：车速>15km/h时禁止视频播放，仅保留音频，显示禁播警告
- **控制**：可通过设置关闭行车禁播功能

#### 3.2.4 图库
- **功能**：USB图片浏览
- **支持格式**：JPEG、PNG、BMP
- **操作**：缩放、旋转、幻灯片播放

### 3.3 蓝牙通信系统

#### 3.3.1 蓝牙设置
- **配对管理**：设备搜索、配对、重命名、删除
- **自动连接**：记忆已配对设备，自动重连
- **安全认证**：WPA2安全协议，双向身份认证

#### 3.3.2 通话功能
- **呼入/呼出**：接听、拨打、挂断、拒接
- **通话记录**：同步手机通话记录（最近50条）
- **联系人同步**：自动同步手机通讯录
- **快速拨号**：收藏常用联系人

### 3.4 车辆安全系统

#### 3.4.1 环视系统
- **倒车影像**：自动触发（挂倒档）、手动开启、快速倒车
- **360环视/270拼接**：支持最多8路摄像头输入
- **影像配套**：提供四方位影像软硬件及线束

#### 3.4.2 ADAS主动安全
- **AEB自动紧急制动**：
  - 车辆碰撞预警（FCW）：初级预警、碰撞警告
  - 行人碰撞预警：初级预警、碰撞警告
  - 分级声光报警：根据紧急程度不同报警
- **LDW车道偏离预警**：
  - 左/右车道偏离检测
  - 报警时长：最小1s，最大3s
  - 声音区别于碰撞预警
- **盲区监测**：启动前障碍物检测，TTS语音提示

#### 3.4.3 DMS疲劳监测
- **面部识别**：打呵欠、注意力不集中、表情异常
- **预警机制**：
  - 车机端：语音+视觉提示
  - 车队端：上报运营人员，触发外部干预
- **Face ID**：辅助实现车机账号登录

### 3.5 车辆控制与监测

#### 3.5.1 多功能方向盘
- **媒体控制**：MODE、音量+/-、上一曲/下一曲
- **通话控制**：接听/挂断、静音
- **组合键**：强制重启功能

#### 3.5.2 车辆中心
- **使用手册**：电子说明书、维修指南
- **驾驶模式**：经济/动力/低附（雨雪）模式切换（HMI开关）
- **VCU智能切换**：根据定位、天气、路况，语音确认后自动切换驾驶模式

#### 3.5.3 上装监控
- **冷藏监测**：温度、湿度、能耗状态
- **语音提醒**：异常状态主动提示司机
- **数据上报**：实时上传TSP平台

#### 3.5.4 行车记录仪
- **核心功能**：
  1. 碰撞记录自动保存
  2. 夜视录像
  3. 循环录像（3分钟/5分钟可配置）
  4. 紧急锁定
- **存储方案**：TF卡（客户自配），视频保存一周
- **远程调取**：预留接口

### 3.6 系统设置

#### 3.6.1 一般设置
- **系统语言**：中文/英文
- **收音机区域**：亚洲、美洲、欧洲、东欧
- **主题设置**：护眼模式、自然模式
- **壁纸**：各模式4组可选
- **自适应亮度**：示宽灯联动（开启→护眼，关闭→自然）
- **行车限制**：禁止观看视频开关
- **恢复出厂设置**：清除用户数据

#### 3.6.2 时间设置
- **自动同步**：开启时自动校准
- **手动设置**：日期、时间、时区
- **显示格式**：12/24小时制、日期格式

#### 3.6.3 音效设置
- **预设音效**：平滑、古典、流行、摇滚、爵士
- **自定义EQ**：多段均衡器调节
- **音量管理**：
  - 车速联动自动调节音量
  - 独立音量：媒体、导航、通话、系统提示

#### 3.6.4 WiFi设置
- **AP模式**：WPA2-PSK(AES)安全认证
- **SSID管理**：首次使用强制修改默认密码
- **连接管理**：已保存网络、手动添加

#### 3.6.5 关于本机
- **版本信息**：
  - 软件版本号（符合广汽领程规范）
  - 硬件版本号
  - 系统版本
  - 内核版本
- **设备信息**：序列号、VIN绑定状态

### 3.7 在线应用与增值服务

#### 3.7.1 OTA升级
- **自身升级**：座舱系统远程升级
- **其他ECU升级**：HMI交互界面，实际升级由各ECU完成
- **对接平台**：广汽OTA后台
- **升级策略**：增量/全量包，断点续传

#### 3.7.2 路由功能
- **CAN路由**：支持二路CAN通信，预留一路
- **以太网路由**：预留功能
- **模式兼容**：CAN与CAN-FD硬件兼容
- **多路转发**：支持跨网段报文转发

#### 3.7.3 诊断功能
- **远程诊断**：座舱诊断结果上报TSP
- **设备自检**：启动自检、定期健康检查
- **远程标定**：支持远程参数配置
- **一键诊断**：
  - 全车零部件自检
  - 核心部件：能源、气路、胎压、通讯
  - 调用仪表接口，HMI展示结果

#### 3.7.4 集成第三方应用
- **手机互联**：
  - 亿连（易连）：安卓+iOS通用方案
  - HiCar：仅华为手机
  - CarPlay：仅苹果手机（预留）
- **导航服务**：
  - 道道通、高德、百度、四维图新
  - 重卡专用导航（限高、限重路线规避）
- **AI语音识别**：在线/离线混合模式
- **个人中心**：账号管理、偏好设置
- **应用商店**：生态应用下载与管理

#### 3.7.5 用户特殊需求
- **货运平台**：接单、运单管理
- **充电平台**：充电桩查询、预约、支付
- **待T9确认**：具体APP功能清单

### 3.8 座舱生态（TSP集成）

#### 3.8.1 驾驶员身份识别
- **账号登录**：司机工号/手机号
- **Face ID**：人脸识别快速登录
- **权限管理**：不同角色不同功能权限

#### 3.8.2 电子围栏
- **围栏类型**：
  - 装/卸货地
  - 排队区域
  - 危险区域
- **触发动作**：进出围栏自动上报、语音提醒

#### 3.8.3 通知提醒
- **消息类型**：调度指令、运单变更、系统通知
- **推送方式**：桌面通知、语音播报

#### 3.8.4 AI助手
- **能耗分析**：
  - 统计行程内能耗数据
  - 与同车型/同路线对比
  - 提供节能建议
- **行为分析**：
  - 驾驶行为记录：AEB触发、车道偏离、超速、急加速/减速
  - 评分系统：生成驾驶评分
  - 建模推送：数据推送保险公司
- **故障预测**：
  - 基于历史数据预测潜在故障
  - 提前保养提醒
- **电池分析**：
  - SOC趋势分析
  - 充电习惯优化建议
  - 电池健康评估
- **日报/月报**：
  - 行程信息总结
  - 驾驶行为报告
  - 语音提醒次数统计

#### 3.8.5 行驶信息显示
- **实时数据**：坡度、载重、车速、瞬时能耗
- **驾驶辅助**：
  - 坡度提示（上坡/下坡角度）
  - 载重状态（空载/半载/满载）

#### 3.8.6 补能平台
- **SOC监控**：
  - SOC<20%时自动触发
  - 语音提示剩余电量和续航里程
- **充电规划**：
  - 根据运输信息规划充电计划
  - 推荐最近充电站（公桩/私桩区分）
  - 路线推荐，司机自主选择

#### 3.8.7 服务平台
- **服务站推荐**：根据定位推荐附近服务站
- **一键预约**：维保预约、导航到店
- **电子保修卡**：保修记录查询

#### 3.8.8 运力平台
- **运单管理**：
  - 调用APP/平台信息
  - 查询今日运单并语音播报
  - 任务信息上报、费用上报
- **语音调度**：订单绑定语音调度，车台互拨
- **照片上传**：运单信息拍照上传

### 3.9 AI语音系统

#### 3.9.1 语音控制范围
- **收音机**：打开/关闭、搜台、切换频道
- **空调**：
  1. 打开/关闭
  2. 温度控制
  3. 风速控制
  4. 模式控制（除雾、吹脚、吹面等）
  5. 风量控制
- **音频播放器**：打开/关闭、上一曲/下一曲、暂停/播放
- **视频播放器**：打开/关闭、播放控制
- **导航**：打开/关闭、导航到目的地、路线规划
- **蓝牙通话**：拨打电话、挂断电话、联系人查询
- **天气查询**：按城市查询天气

#### 3.9.2 AI知识库
- **电子说明书集成**：根据电子说明书检索内容，回答维修、使用问题
- **在线AI引擎**：接入大语言模型，回答通用问题
- **离线语音**：基础控制指令支持离线识别

#### 3.9.3 语音调度
- **订单绑定**：跟随运单的语音调度，一对一
- **车台互拨**：调度员与司机语音通话

#### 3.9.4 智能报告
- **日报/月报**：
  - 行程信息总结
  - 驾驶行为分析
  - 语音提醒次数统计
  - 输出语音报告

#### 3.9.5 ADAS语音播报
- **双预警**：FCW、LDW预警信息语音播报
- **AEBS触发**：自动紧急制动触发语音提示
- **故障播报**：系统故障语音提醒

#### 3.9.6 语音隐私协议
- **首次授权**：安装版本和恢复出厂设置时需用户同意
- **授权内容**：
  - 语音使用授权
  - 语音数据授权
  - 可在设置中修改

---

## 4. 仪表功能需求

### 4.1 车辆信息显示

#### 4.1.1 核心仪表
- **车速表**：显示当前车速（km/h），表显车速需比实际车速大
- **转速表**：显示驱动电机转速（rpm）
- **SOC表**：显示动力电池电量百分比
- **剩余续航里程**：实时计算可行驶里程（km）

#### 4.1.2 行驶数据
- **驱动/回馈功率**：百分比显示
- **百公里平均能耗**：kWh/100km
- **小计里程**：可清零的短途里程
- **总里程**：累计行驶里程，不可篡改、不可清零，同步发送至T-BOX

#### 4.1.3 档位与模式
- **档位显示**：使用VCU发出的当前档位（非换挡器请求）
- **档位操作提示**：如"未踩刹车挂档"等
- **驾驶模式**：经济/动力/低附（雨雪）模式

### 4.2 指示灯系统

#### 4.2.1 灯光指示灯
- **主车转向灯**：左/右转向，同频闪烁，故障时频率加倍
- **挂车转向灯**：BCM判定接挂状态，未接挂不点亮
- **位置灯**：小灯指示
- **近光灯**、**远光灯**、**双闪灯**、**后雾灯**
- **日间行车灯**

#### 4.2.2 系统工作状态指示灯
- **充电状态/充电连接指示灯**
- **驻车制动指示灯**
- **Ready指示灯**：高压上电，电机可驱动
- **定速巡航/ACC巡航指示灯**
- **ESC工作指示灯**
- **高压上电指示灯**
- **能量回收等级显示**
- **驾驶室翻转指示灯**
- **轴/轮差速锁工作指示灯**
- **停车取力指示灯**
- **ADAS预警开启/关闭指示灯**
- **AEB系统关闭指示灯**
- **ESC功能关闭指示灯**

#### 4.2.3 告警指示灯
- **ABS报警**
- **电机及控制器故障**
- **超速/限速报警**（用户可设置限速车速）
- **紧急停车指示灯**（VCU紧急下电）
- **安全带指示灯**
- **动力电池故障**
- **SOC过低报警**
- **挂车ABS**、**ASR**
- **蓄电池指示灯**（DCDC故障）
- **锁车指示灯**（T-BOX发送）
- **绝缘故障**
- **制动气压低**
- **门未关**
- **龟速灯**（限功率输出）
- **碰撞报警**（初级/紧急，不同频率）
- **胎压过低**（预留）
- **ACC巡航故障**（预留）
- **EBS故障**（红色严重/黄色一般）
- **巡航/待机故障**
- **制动器磨损**
- **变速箱故障**
- **前摄像头故障**
- **AEBS行人预警**（初级/碰撞）
- **整车故障**
- **车道偏离**（左/右）

### 4.3 声音提醒

#### 4.3.1 转向灯模拟音
- 转向灯/双闪开启时，与灯光同频"嘀嗒"声

#### 4.3.2 AEBS声学报警
- **车辆碰撞**：
  - 初级预警：较缓慢间隔
  - 碰撞警告：急促间隔
- **行人碰撞**：
  - 初级预警：较缓慢间隔（与车辆碰撞音色区别）
  - 碰撞警告：急促间隔（与车辆碰撞音色区别）

#### 4.3.3 LDWS声学报警
- **左车道偏离**：报警时长1-3s
- **右车道偏离**：报警时长1-3s
- 音色需与碰撞预警区别

#### 4.3.4 电源系统声音报警
- **SOC过低**：蜂鸣器报警3s
- **DCDC故障**：蜂鸣一声

### 4.4 信息弹窗与故障显示

#### 4.4.1 关键系统故障弹窗
- **制动气压低**：文字提醒"制动气压低"
- **整车故障等级**：一级/二级/三级故障
- **变速箱故障**：相应文字提醒
- **防溜坡状态**：驻坡绿灯、未驻坡不亮、故障黄灯
- **限功率**：显示"降功率行驶"

#### 4.4.2 故障信息显示
- BMS故障码
- EBS故障信息
- 其他系统故障代码

### 4.5 配置设置

#### 4.5.1 可配置参数
- **后桥速比**
- **轮胎滚动半径**
- **限速车速设定**

#### 4.5.2 自适应配置
- 根据关键信息判别车型（纯电/混动）
- 自动进行UI/功能配置

### 4.6 特殊功能

#### 4.6.1 休眠唤醒
- **唤醒条件**：任一条件触发立即唤醒
- **休眠条件**：所有条件满足后延迟进入休眠
- **插枪充电唤醒**：
  - 自动进入充电界面
  - 显示充电动画
  - 显示当前SOC%和预计完成时间

#### 4.6.2 中控屏信息投射
- **导航信息**：投屏到仪表显示
- **车机屏交互**：
  - 软开关：空调控制、ADAS开关、车身开关
  - 其他控制开关

#### 4.6.3 巡航控制显示
- **目标车速显示**：显示设置的巡航车速
- **停止显示**：接收指令后关闭显示

#### 4.6.4 制动气压显示
- **制动气压1**：主制动回路气压
- **制动气压2**：辅助制动回路气压

#### 4.6.5 金融锁车
- 显示车辆锁车状态

### 4.7 诊断与升级

#### 4.7.1 诊断功能
- **UDS on CAN**：基础诊断功能
- **DoIP**：车载以太网诊断（预留）
- **电检功能**：按照电检流程完成

#### 4.7.2 软件升级
- **CAN刷写**：符合Flash Bootloader规范
- **OTA升级**：通过OTA技术升级
- **USB刷写**：通过USB HID协议升级

#### 4.7.3 网络管理
- **网络通信**：支持基础CAN通信
- **网络管理**：AUTOSAR CAN网络管理规范

---

## 5. 信息安全需求

### 5.1 硬件安全

#### 5.1.1 安全模块
- **硬件加密引擎**：集成SE或HSM安全芯片（可选）
- **权威认证**：通过相关认证，具备数据保护、访问控制、对抗攻击能力

#### 5.1.2 硬件接口管控
- **外部接口禁用**：禁用不必要的JTAG、UART、I/O、USB等接口
- **安全访问控制**：业务需要的接口需评估后采用权限管控
- **USB安全**：
  - 访问控制，禁止非授权访问
  - 文件访问控制，仅允许指定格式/签名
  - 病毒防护：提示、拦截、隔离、删除
  - 限制设备类型
  - 禁止直接执行USB脚本/二进制文件
  - 刷写场景下USB设备鉴权

### 5.2 系统安全

#### 5.2.1 安全启动
- **签名与校验**：基于哈希算法的数字签名技术
- **全流程验证**：Bootloader → Hypervisor → Kernel → 文件系统
- **多芯片支持**：MCU和SOC均需满足安全启动

#### 5.2.2 系统访问控制
- **最小特权原则**：禁用非必要账户，限制ROOT权限
- **强制访问控制**：优先SELINUX，特殊情况用ACL
- **最小化权限**：用户、进程、服务、端口等

#### 5.2.3 安全日志
- **通信安全日志**：存储不少于6个月
- **日志内容**：事件时间、事件原因

#### 5.2.4 漏洞控制
- **无后门**：不存在后门及非必要接口
- **漏洞扫描**：验证阶段提供漏洞扫描报告
- **高危漏洞**：不存在6个月以上未处置的高危漏洞

#### 5.2.5 软件版本保护
- **版本编码**：按广汽日野编码规则
- **唯一性**：版本号唯一且可识别
- **防篡改**：非授权禁止篡改

#### 5.2.6 零部件身份识别
- 对能与外部无线通信的零部件进行身份识别，防止物理替换

### 5.3 应用安全

#### 5.3.1 应用组件安全
- Android应用：保护Activity、Service、Broadcast receiver、Content Provider
- **开源组件**：漏洞检测，评估安全风险

#### 5.3.2 第三方应用保护
- **授权应用**：真实性、完整性验证
- **非授权应用**：
  - 安装提示
  - 访问控制，限制访问系统资源、个人信息

#### 5.3.3 应用通信安全
- 应用与服务器通信使用HTTPS等安全协议

### 5.4 数据安全

#### 5.4.1 密码算法
- **国密算法**：适配广汽日野PKI要求的SDK
- **不同密钥**：不同应用场景使用不同密钥
- **口令要求**：
  - 最小8个字符
  - 至少包含一个英文字符和数字
  - 防暴力破解机制
- **随机数**：
  - 硬件真随机数生成器（有SE/HSM时）
  - 可信伪随机数生成器（CTR_DRBG, HASH-DRBG）
  - 安全种子设置

#### 5.4.2 密钥存储
- **有硬件安全模块**：密钥保存在安全模块内部
- **无硬件安全模块**：
  - 公钥：保护完整性（存储于OTP/EFUSE）
  - 私钥/对称密钥：保护机密性（混淆避免明文）

#### 5.4.3 数据存储安全
- **敏感个人信息**：采用安全访问、加密技术保护
- **车辆身份识别数据**：VIN等数据防非授权删除和修改
- **关键数据**：制动参数、安全气囊阈值、电池参数等防篡改
- **日志保护**：防修改和非授权删除

#### 5.4.4 数据删除与防恢复
- 个人信息删除不可重新访问、恢复及使用
- 法律法规要求保留的信息除外

#### 5.4.5 数据采集
- 涉及个人隐私、敏感信息采集保证真实性、完整性、机密性
- 最小必要原则
- 符合出口地法律要求

### 5.5 外部通信安全

#### 5.5.1 WiFi安全
- **AP模式**：WPA2-PSK(AES)及以上
- **禁用协议**：WEP禁止，WPA不应使用
- **SSID/口令**：首次使用强制修改
- **无漏洞版本**：使用最新WiFi组件
- **完整性保护**：保护WiFi通信通道

#### 5.5.2 蓝牙安全
- **协议升级**：4.2及以上版本
- **安全模式**：安全模式4，级别4
- **双向认证**：通信设备双向身份认证
- **数据加密**：通信数据加密
- **完整性保护**：保护蓝牙通信通道

#### 5.5.3 外部指令安全
- **关键指令**：验证有效性或唯一性（如车控指令）
- **数据操作指令**：访问控制机制（代码注入、数据操纵等）

#### 5.5.4 端口及服务控制
- **禁用多余端口**：如SSH、TELNET、FTP
- **开放端口**：防止非授权访问

### 5.6 安全监控

#### 5.6.1 网络监测记录
- **IDS配置**：入侵检测系统
- **日志记录**：满足相关规定
- **存储时长**：
  - 远程控制指令日志：不少于6个月
  - 通信安全事件日志：不少于6个月
  - OTA安全事件日志：不少于6个月

### 5.7 内部通信安全

#### 5.7.1 CAN总线安全
- **通信矩阵**：建立CAN ID访问控制策略
- **报文过滤**：不在矩阵中的报文实时处理（屏蔽/丢弃）
- **完整性保护**：关键报文和重要数据
- **DoS攻击**：识别和处理拒绝服务攻击

#### 5.7.2 安全诊断
- **27安全访问**：增强型算法，种子密钥≥4字节
- **写服务保护**：通过27算法访问
- **恶意数据识别**：识别并保护
- **防暴力破解**：27服务防暴力破解
- **私有服务**：需广汽日野审核批准

### 5.8 升级安全

#### 5.8.1 升级包发布
- **OTA场景**：确保真实性、完整性、机密性
- **USB场景**：升级包加密或密码保护

#### 5.8.2 升级包校验
- **真实性验证**：确保升级包身份无误
- **完整性验证**：确保内容完整

---

## 6. 特殊需求

### 6.1 黑屏处理

#### 6.1.1 仪表屏黑屏处理
- **MCU设计**：专用MCU进行诊断、检测
- **信号检测**：参照硬件原理图
- **关键信息备份**：车速、转向灯等关键信息在中控屏显示

#### 6.1.2 中控屏黑屏处理
- **MCU设计**：专用MCU进行诊断、检测
- **预防机制**：为主控提供故障预防依据

### 6.2 电源模式管理

#### 6.2.1 高压关断
- 整车高压系统异常时自动关断保护

#### 6.2.2 低压保护
- 蓄电池电压过低时保护策略

### 6.3 硬件替换料

| 序号 | A样 | B样 | 描述 |
|------|------|------|------|
| 1 | IAM-20680HT | BOSH SMI330 | IMU芯片，加速度传感器（预留） |
| 2 | UM621A | UM621 | 定位模块（预留） |
| 3 | GOC-BF440-P | GOC-BF440-P-IV | BT/WIFI模块 |
| 4 | S2R7A54F12E3 | IP3622 Q1 | USB Hub扩展（预留） |
| 5 | BOE 14.6中控屏+TP | 待定 | 显示屏加触摸屏 |
| 6 | BOE 10.25仪表屏 | 待定 | 显示屏 |

---

## 7. 非功能需求

### 7.1 性能要求

#### 7.1.1 响应时间
- **开机时间**：
  - 冷启动：≤30秒
  - 门开预启动：≤15秒
- **应用启动**：
  - 系统应用：≤2秒
  - 第三方应用：≤3秒
- **界面切换**：≤300ms
- **触控响应**：≤100ms

#### 7.1.2 系统负载
- **CPU占用率**：平均≤60%，峰值≤80%
- **内存占用率**：平均≤70%，峰值≤85%
- **存储空间**：系统预留≥20%空间

#### 7.1.3 压力测试
- **峰值负载**：支持200%峰值负载持续4小时
- **连续运行**：7×24小时无故障运行

### 7.2 可靠性要求

#### 7.2.1 系统稳定性
- **MTBF**（平均无故障时间）：≥5000小时
- **系统可用性**：≥99.5%（不含计划内维护）
- **首次修复率**：≥90%

#### 7.2.2 环境适应性
- **工作温度**：-40℃ ~ +85℃
- **存储温度**：-40℃ ~ +95℃
- **工作湿度**：5% ~ 95% RH（无凝露）
- **防护等级**：IP5X（防尘）

#### 7.2.3 电磁兼容
- 符合GB/T 19951、GB/T 33014等相关标准

### 7.3 兼容性要求

#### 7.3.1 整车兼容性
- **CAN通信**：支持广汽远程CAN通信协议
- **ASPICE合规**：符合ASPICE L2要求
- **功能安全**：符合ISO 26262 ASIL-B等级

#### 7.3.2 第三方兼容性
- **手机系统**：Android 8.0+、iOS 12.0+
- **蓝牙协议**：Bluetooth 4.2+
- **WiFi协议**：IEEE 802.11 a/b/g/n/ac

### 7.4 可维护性要求

#### 7.4.1 诊断能力
- **故障覆盖率**：≥95%
- **故障定位**：到具体模块/组件
- **远程诊断**：支持OTA诊断

#### 7.4.2 升级能力
- **OTA升级**：
  - 增量升级包≤50MB
  - 全量升级包≤500MB
  - 断点续传
  - 升级失败自动回滚
- **离线升级**：支持USB/TF卡升级

### 7.5 易用性要求

#### 7.5.1 界面设计
- **字体大小**：≥18pt（主要信息）
- **触控目标**：≥44×44 dp
- **颜色对比度**：≥4.5:1（WCAG 2.0 AA级）
- **操作步骤**：核心功能≤3步到达

#### 7.5.2 多语言支持
- **系统语言**：中文、英文
- **扩展能力**：预留其他语言接口

### 7.6 国密与PKI要求

#### 7.6.1 国密算法
- **SM2**：椭圆曲线公钥密码算法
- **SM3**：密码哈希算法
- **SM4**：分组密码算法
- **SDK适配**：适配广汽日野PKI要求的SDK

#### 7.6.2 证书管理
- **证书申请**：国密证书申请流程
- **密钥管理**：密钥生成、存储、更新、销毁
- **安全芯片**：集成国密安全芯片

---

## 8. 用户界面设计原则

### 8.1 设计理念

#### 8.1.1 重卡特性
- **大图标**：适合驾驶员佩戴手套操作
- **高对比度**：强光下可读
- **简化层级**：减少操作步骤

#### 8.1.2 商用车场景
- **信息优先**：车辆状态、运单信息优先展示
- **快速操作**：高频功能一键到达
- **语音优先**：减少视线离开路面时间

### 8.2 主题风格

#### 8.2.1 自然模式
- **应用场景**：日间驾驶
- **颜色方案**：高亮度、高对比度
- **壁纸**：4组可选

#### 8.2.2 护眼模式
- **应用场景**：夜间驾驶
- **颜色方案**：低亮度、暖色调
- **壁纸**：4组可选
- **自动切换**：示宽灯联动

### 8.3 信息层级

#### 8.3.1 一级信息（常驻）
- 车速、SOC、续航里程、时间、网络状态

#### 8.3.2 二级信息（重要提示）
- 导航指引、来电通知、故障告警

#### 8.3.3 三级信息（应用内）
- 应用详细内容、设置选项

---

## 9. 技术架构

### 9.1 硬件架构

#### 9.1.1 核心平台
- **主控SOC**：高性能应用处理器
- **MCU**：实时控制、诊断检测
- **安全芯片**：SE/HSM（可选）

#### 9.1.2 显示系统
- **中控屏**：14.6英寸LCD + 电容触控
- **仪表屏**：10.25英寸LCD

#### 9.1.3 连接性
- **CAN**：2路CAN2.0B/CAN-FD，预留1路
- **以太网**：预留车载以太网
- **WiFi/BT**：双频WiFi + 蓝牙4.2+
- **USB**：多路USB 2.0/3.0
- **GNSS**：预留定位模块接口

#### 9.1.4 音视频
- **摄像头输入**：最多8路
- **音频输出**：多声道功放
- **扩展接口**：MIC输入、AUX输出

### 9.2 软件架构

#### 9.2.1 操作系统
- **基础系统**：Linux Kernel
- **Android**：AOSP定制版本（仪表可选QNX）
- **Hypervisor**：支持虚拟化（可选）

#### 9.2.2 中间件
- **通信中间件**：CAN/SOME/IP协议栈
- **诊断中间件**：UDS/DoIP
- **网络管理**：AUTOSAR NM
- **OTA中间件**：升级管理、差分更新

#### 9.2.3 应用层
- **系统应用**：Launcher、设置、音视频等
- **车控应用**：ADAS HMI、车辆中心
- **生态应用**：导航、语音、TSP集成

### 9.3 网络拓扑

```
[仪表屏] ←→ [CAN1] ←→ [中控屏(网关)] ←→ [CAN2] ←→ [整车CAN网络]
                                ↓
                           [以太网] ←→ [T-BOX]
                                ↓
                         [WiFi/BT] ←→ [手机/外设]
```

### 9.4 数据流

#### 9.4.1 CAN数据流
- **输入**：VCU、BMS、EBS、ADAS等ECU数据
- **输出**：座舱状态、用户指令

#### 9.4.2 以太网数据流（预留）
- **输入**：高清视频流、OTA升级包
- **输出**：诊断数据、日志上传

#### 9.4.3 云端数据流
- **上行**：车辆状态、驾驶行为、故障信息
- **下行**：OTA包、地图更新、运单信息

---

## 10. 验收标准

### 10.1 功能验收

#### 10.1.1 功能完整性
- 100%覆盖需求文档中的功能点
- 所有功能通过功能测试
- 关键功能通过专项测试

#### 10.1.2 功能正确性
- 功能逻辑符合需求描述
- 边界条件处理正确
- 异常场景有合理处理

### 10.2 性能验收

#### 10.2.1 响应性能
- 开机时间≤30秒（冷启动）
- 应用启动时间达标
- 界面切换流畅度测试通过

#### 10.2.2 压力性能
- 200%峰值负载持续4小时无故障
- 7×24小时稳定性测试通过
- CPU/内存占用率达标

### 10.3 安全验收

#### 10.3.1 信息安全
- 漏洞扫描报告无高危漏洞
- 渗透测试通过
- 安全审计通过

#### 10.3.2 功能安全
- ASIL-B等级安全分析完成
- 安全相关功能测试通过
- 失效模式分析完成

### 10.4 兼容性验收

#### 10.4.1 整车兼容性
- CAN通信协议测试通过
- 整车联调测试通过
- 环境适应性测试通过

#### 10.4.2 生态兼容性
- 手机互联功能测试通过
- 第三方应用集成测试通过
- TSP平台对接测试通过

### 10.5 可靠性验收

#### 10.5.1 环境测试
- 高低温测试：-40℃ ~ +85℃
- 湿热测试：5% ~ 95% RH
- 振动测试：符合车规级标准
- EMC测试：通过国标要求

#### 10.5.2 耐久性测试
- MTBF测试：≥5000小时
- 循环测试：1000次开关机无故障
- 老化测试：72小时高温老化

---

## 11. 项目计划

### 11.1 项目里程碑

| 阶段 | 里程碑 | 交付物 | 完成标准 |
|------|--------|--------|----------|
| 需求阶段 | 需求评审完成 | PRD、接口规范 | 评审通过 |
| 设计阶段 | 详细设计完成 | 架构设计、UI设计 | 评审通过 |
| 开发阶段 | Alpha版本 | 核心功能可用 | 内部测试通过 |
| 开发阶段 | Beta版本 | 全功能完成 | 系统测试通过 |
| 测试阶段 | 功能测试完成 | 测试报告 | 无阻塞缺陷 |
| 测试阶段 | 整车联调完成 | 联调报告 | 通信正常 |
| 验收阶段 | 预验收完成 | 预验收报告 | 达到验收标准 |
| 量产阶段 | SOP | 量产就绪 | 正式验收通过 |

### 11.2 关键路径

1. **硬件平台就绪** → 软件开发环境搭建
2. **CAN通信协议确定** → CAN适配层开发
3. **UI设计完成** → 前端开发
4. **第三方SDK获取** → 生态应用集成
5. **整车网络就绪** → 整车联调

### 11.3 风险与应对

| 风险 | 影响 | 概率 | 应对措施 |
|------|------|------|----------|
| 硬件延期 | 高 | 中 | 提前冻结硬件设计，使用开发板 |
| 第三方SDK不稳定 | 中 | 高 | 预研评估，准备备选方案 |
| 整车协议变更 | 高 | 中 | 抽象通信层，降低耦合 |
| TSP平台接口变更 | 中 | 中 | 定义标准接口，适配层隔离 |
| 测试资源不足 | 中 | 低 | 自动化测试，外部支持 |

---

## 12. 质量保证

### 12.1 质量目标

- **功能正确率**：100%（无致命、严重缺陷）
- **首次通过率**：≥90%（模块测试）
- **缺陷密度**：≤5个/KLOC
- **代码覆盖率**：≥80%（单元测试）

### 12.2 质量管理

#### 12.2.1 开发规范
- **编码标准**：MISRA C、AUTOSAR Coding Guidelines
- **命名规范**：统一命名规则
- **注释规范**：关键代码必须注释

#### 12.2.2 评审机制
- **需求评审**：PRD评审、接口评审
- **设计评审**：架构评审、详细设计评审
- **代码评审**：关键模块强制代码评审

#### 12.2.3 测试策略
- **单元测试**：开发人员负责
- **集成测试**：模块间接口测试
- **系统测试**：完整功能测试
- **回归测试**：修改后全量回归

### 12.3 配置管理

#### 12.3.1 版本管理
- **Git管理**：代码、文档统一Git管理
- **分支策略**：主干开发、发布分支
- **版本命名**：符合广汽领程规范

#### 12.3.2 变更管理
- **变更申请**：正式变更流程
- **影响分析**：评估变更影响范围
- **回归测试**：变更后完整测试

---

## 13. 售后维护

### 13.1 服务范围

#### 13.1.1 维护服务定义
- 软件故障修复
- 系统升级（功能升级、安全补丁）
- 性能优化
- 技术支持服务

#### 13.1.2 服务边界
- **核心功能维护**：免费（质保期内）
- **增值服务**：按合同约定

### 13.2 响应标准

| 指标 | 标准值 | 特殊条款 |
|------|--------|----------|
| 响应时间 | ≤30分钟 | 工作日 |
| 紧急响应 | 7×24小时 | 一级故障 |
| 故障恢复 | ≤4小时 | 一级故障 |
| 备件更换 | 48小时 | 完成更换 |
| 系统可用性 | ≥99.5% | 不含计划维护 |

### 13.3 质量保证

#### 13.3.1 质保期
- **免费质保**：3年（验收后开始计算）
- **缺陷修复承诺**：首次修复率≥90%
- **重复故障**：免费返修

#### 13.3.2 知识产权
- **源代码托管**：明确托管方案及访问权限
- **逆向工程**：禁止第三方逆向工程

#### 13.3.3 保密协议
- **技术文档**：保密协议覆盖
- **业务数据**：严格保密
- **违约赔偿**：不低于合同总额20%

### 13.4 验收标准

#### 13.4.1 功能验收
- 100%覆盖需求文档验收条件

#### 13.4.2 性能验收
- **压力测试**：200%峰值负载持续4小时

---

## 14. 附录

### 14.1 术语表

| 术语 | 全称 | 说明 |
|------|------|------|
| ADAS | Advanced Driver Assistance Systems | 高级驾驶辅助系统 |
| AEB | Autonomous Emergency Braking | 自动紧急制动 |
| AEBS | Advanced Emergency Braking System | 高级紧急制动系统 |
| LDW | Lane Departure Warning | 车道偏离预警 |
| LDWS | Lane Departure Warning System | 车道偏离预警系统 |
| DMS | Driver Monitoring System | 驾驶员监测系统 |
| SOC | State of Charge | 电池电量状态 |
| CAN | Controller Area Network | 控制器局域网络 |
| OTA | Over-The-Air | 空中下载技术 |
| TSP | Telematics Service Provider | 车联网服务提供商 |
| VCU | Vehicle Control Unit | 整车控制器 |
| BMS | Battery Management System | 电池管理系统 |
| EBS | Electronic Braking System | 电子制动系统 |
| TBOX | Telematics Box | 车载通信终端 |
| UDS | Unified Diagnostic Services | 统一诊断服务 |
| DoIP | Diagnostics over IP | 基于IP的诊断 |
| ASPICE | Automotive SPICE | 汽车软件过程改进及能力评定 |
| ASIL | Automotive Safety Integrity Level | 汽车安全完整性等级 |
| SE | Secure Element | 安全单元 |
| HSM | Hardware Security Module | 硬件安全模块 |
| PKI | Public Key Infrastructure | 公钥基础设施 |

### 14.2 参考标准

| 标准号 | 标准名称 | 适用范围 |
|--------|----------|----------|
| GB/T 19951 | 道路车辆-CAN总线 | CAN通信 |
| GB/T 33014 | 道路车辆-电磁兼容性 | EMC测试 |
| ISO 26262 | 道路车辆功能安全 | 功能安全 |
| GB/T 44464-2024 | 个人信息安全规范 | 数据安全 |
| AUTOSAR | 汽车开放系统架构 | 软件架构 |
| MISRA C | C语言编码规范 | 代码规范 |

### 14.3 变更记录

| 版本 | 日期 | 修改内容 | 修改人 |
|------|------|----------|--------|
| V1.0 | 2025-01-10 | 初始版本 | - |

---

## 15. 批准签字

| 角色 | 姓名 | 签名 | 日期 |
|------|------|------|------|
| 产品经理 | | | |
| 技术负责人 | | | |
| 项目经理 | | | |
| 客户代表 | | | |

---

**文档结束**
